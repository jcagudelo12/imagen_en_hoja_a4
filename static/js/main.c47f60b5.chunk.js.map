{"version":3,"sources":["App.jsx","index.jsx"],"names":["App","widthA4","heigthA4","useForm","register","handleSubmit","useState","upload","setUpload","originalWidth","setOriginalWidth","originalHeight","setOriginalHeight","ratio","setRatio","newWidth","setNewWidth","newHeight","setNewHeight","shape","setShape","width","height","a","auxShape","Math","round","fileNew","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","imageA","Image","src","JSON","parse","localStorage","getItem","className","onSubmit","clear","e","picture","length","getBase64","then","base64","setItem","stringify","rate","res","reSizeImg","console","log","type","placeholder","name","accept","ref","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c47f60b5.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nfunction App() {\n  const widthA4 = 796;\n  const heigthA4 = 1123;\n  const { register, handleSubmit } = useForm();\n\n  const [upload, setUpload] = useState(false);\n  const [originalWidth, setOriginalWidth] = useState(0);\n  const [originalHeight, setOriginalHeight] = useState(0);\n  const [ratio, setRatio] = useState(0);\n  const [newWidth, setNewWidth] = useState(0);\n  const [newHeight, setNewHeight] = useState(0);\n  const [shape, setShape] = useState(\"\");\n\n  async function rate(width, height) {\n    setOriginalWidth(width);\n    setOriginalHeight(height);\n    var auxShape;\n    if (width > height) {\n      setRatio(width / height);\n      auxShape = \"Horizontal\";\n    } else {\n      setRatio(height / width);\n      auxShape = \"Vertical\";\n    }\n    return await auxShape;\n  }\n  async function reSizeImg() {\n    if (originalHeight > originalWidth) {\n      if (originalHeight > heigthA4) {\n        setNewHeight(heigthA4);\n        setNewWidth(Math.round(heigthA4 / ratio));\n      } else if (originalWidth > widthA4) {\n        setNewWidth(widthA4);\n        setNewHeight(Math.round(widthA4 * ratio));\n      } else {\n        setNewWidth(originalWidth);\n        setNewHeight(originalHeight);\n      }\n    } else if (originalWidth > originalHeight) {\n      if (originalWidth > heigthA4) {\n        setNewWidth(heigthA4);\n        setNewHeight(Math.round(heigthA4 / ratio));\n      } else if (originalHeight > widthA4) {\n        setNewHeight(widthA4);\n        setNewWidth(Math.round(widthA4 * ratio));\n      } else {\n        setNewWidth(originalWidth);\n        setNewHeight(originalHeight);\n      }\n    } else {\n      if (originalWidth > widthA4) {\n        setNewHeight(widthA4);\n        setNewWidth(widthA4);\n        return;\n      } else {\n        setNewHeight(originalHeight);\n        setNewWidth(originalWidth);\n      }\n    }\n  }\n\n  const addImage = (e) => {\n    if (e.picture.length === 0) {\n      console.log(\"No ha seleccionado ninguna imagen.\");\n      return;\n    }\n\n    getBase64(e.picture[0])\n      .then((base64) => {\n        localStorage.setItem(\"imgData\", JSON.stringify(base64));\n      })\n      .then(() => {\n        const imageA = new Image();\n        imageA.src = JSON.parse(localStorage.getItem(\"imgData\"));\n\n        rate(imageA.width, imageA.height).then((res) => {\n          setShape(res);\n        });\n        reSizeImg();\n\n        setUpload(true);\n      });\n  };\n\n  async function getBase64(fileNew) {\n    return await new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n      reader.readAsDataURL(fileNew);\n    });\n  }\n  const imageA = new Image();\n  imageA.src = JSON.parse(localStorage.getItem(\"imgData\"));\n\n  const clearImage = () => {\n    setUpload(false);\n    localStorage.clear();\n  };\n\n  return (\n    <div className=\"container mt-2\">\n      <h1 className=\"text-center\">Procesar el tamaño de la imagen.</h1>\n      <hr />\n      <div className=\"row\">\n        <h4 className=\"text-center mt-5\">\n          A continuación podrá procesar la imagen para ajustarla al tamaño de\n          hoja A4.\n        </h4>\n        <div className=\"col-md-6\">\n          <form\n            className=\"mt-5 text-center\"\n            onSubmit={\n              upload ? handleSubmit(clearImage) : handleSubmit(addImage)\n            }\n          >\n            <input\n              type=\"file\"\n              className=\"form-control mb-2\"\n              placeholder=\"Ingrese la tarea...\"\n              name=\"picture\"\n              accept=\"image/jpeg\"\n              ref={register}\n            />\n            <button\n              type=\"submit\"\n              className={\n                upload\n                  ? \"btn btn-warning btn-block btn-lg mt-2 mx-3\"\n                  : \"btn btn-dark btn-block btn-lg mt-2\"\n              }\n            >\n              {upload ? (\n                <i className=\"fas fa-trash-alt\"> Limpiar</i>\n              ) : (\n                <i className=\"fas fa-share-square\"> Procesar</i>\n              )}\n            </button>\n          </form>\n        </div>\n        <div className=\"col-md-6 text-center\">\n          <img\n            alt=\"imagen\"\n            src={imageA.src}\n            className={upload ? \"w-50\" : \"d-none\"}\n          />\n        </div>\n        <div className={upload ? \"col-12 mt-5 text-center\" : \"d-none\"}>\n          {/* <h4>\n            {shape === \"Horizontal\"\n              ? \"Ancho de la imagen: \" + newWidth\n              : \"Alto de la imagen: \" + newHeight}\n          </h4>\n          <h4>\n            {shape === \"Vertical\"\n              ? \"Ancho de la imagen: \" + newHeight\n              : \"Alto de la imagen: \" + newWidth}\n          </h4> */}\n          <h4>{\"Ancho de la imagen: \" + newWidth + \" px\"}</h4>\n          <h4>{\"Alto de la imagen: \" + newHeight + \" px\"}</h4>\n          <h4>{\"Orientación: \" + shape}</h4>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}